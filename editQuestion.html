<html>
  
<head>
    <title>Question Writing</title>
  
  <meta name="Description" content="A Question generation tool to create parameterized questions.">
  <link href="new.css" rel="stylesheet" type="text/css" />
<table border ="1" width="100%">
<tr>
  <td border="1" align="center" width="10%"><a href="index.html"><img src="QBank.png" href = /></a></td>
  <td align="left width="90%"><h1>QBank - Question banking made easy with parameterization. </h1></td>
</tr>
</table>


  <script type="text/javascript">
  var range_var_num = 1; //variable to count number of range type variables.
  var list_var_num = 1; //variable to count number of list type variables.
  var A = new Array();

// Generates a radio button to select type of variable (list or range)
function createRadioElement() {

	var e = document.getElementById('variable');
	var f = document.getElementById('variable1');
	if(e.style.display == 'inline') {
		e.style.display = 'none';
		f.style.display = 'inline';
	}
	else {
		e.style.display = 'inline';
		f.style.display = 'none';
	}

    var radioHtml = '<div id="list_var" style="display:inline"> <input type="radio" name="radio" value="list" onClick="generateListOption()"';
    radioHtml += '/>';
	radioHtml += "List";
	radioHtml += '</div>';
	var radioHtml2 = '<div id="list_var2" style="display:none">';
	radioHtml2 += "List";
	radioHtml2 += '</div>';

	var radioHtml1 = '<div id="range_var" style="display:inline"> <input type="radio" name="radio" value="range" onClick="generateRangeOption()"';
    radioHtml1 += '/> ';
	radioHtml1 += "Range ";
	radioHtml1 += '</div>';
	var radioHtml3 = '<div id="range_var2" style="display:none">';
	radioHtml3 += "Range";
	radioHtml3 += '</div>';
	
    var radioFragment = document.createElement('div');
    radioFragment.innerHTML = radioHtml;
	var radioFragment1 = document.createElement('div');
    radioFragment1.innerHTML = radioHtml1;
	var radioFragment2 = document.createElement('div');
    radioFragment2.innerHTML = radioHtml2;
	var radioFragment3 = document.createElement('div');
    radioFragment3.innerHTML = radioHtml3;
    document.getElementById('var1').appendChild(radioFragment);
	document.getElementById('var1').appendChild(radioFragment1);
	document.getElementById('var1').appendChild(radioFragment2);
	document.getElementById('var1').appendChild(radioFragment3);
}

//If list option is selected, creates a link to add a variable.
function generateListOption() {

	var e = document.getElementById('range_var');
	var f = document.getElementById('list_var');
	var f1 = document.getElementById('list_var2');
	if(e.style.display == 'inline') {
		e.style.display = 'none';		
		f.style.display = 'none';
		f1.style.display = 'inline';
	}
	
			var new_link = document.createElement("a");
			new_link.setAttribute("href",'#');
			new_link.setAttribute("onClick", 'addListVariable()');
			var text4 = document.createElement("div");
			text4.setAttribute("id", 'listLink');
			text4.setAttribute("style",'display:inline');
			text4.innerHTML= "Add a variable";
			new_link.appendChild(text4);
			document.getElementById('var1').appendChild(new_link);
			
}


function generateParOption(){


	var e = document.getElementById('group_var');
	var f = document.getElementById('par_var');
	var g = document.getElementById('simple_var');
	var f1 = document.getElementById('par_var2');
	if(e.style.display == 'inline') {
		e.style.display = 'none';		
		f.style.display = 'none';
		g.style.display = 'none';
		f1.style.display = 'inline';
	}
	




 		var tbl     = document.createElement("table");
		tbl.setAttribute("border",'2');

		
				// creates a table row
		   	 var row1 = document.createElement("tr");
			row1.setAttribute("id",'setup_row');
			var r1c1 = document.createElement("td");
			r1c1.setAttribute("valign",'top');
			var txt1 = document.createElement("i");
			txt1.innerHTML= "Introduction Text:";
			r1c1.appendChild(txt1);
			row1.appendChild(r1c1);

			
			var r1c2 = document.createElement("td");
			var text1 = document.createElement("div");
			text1.setAttribute("class",'field');
			var textarea = document.createElement("textarea");
			textarea.setAttribute("class",'mark_it_up');
			textarea.setAttribute("cols",'80');
			textarea.setAttribute("id",'question_question_setup_attributes_content');
			textarea.setAttribute("name",'intro_text');
			textarea.setAttribute("rows",'4');
			text1.appendChild(textarea);
			r1c2.appendChild(text1);
			row1.appendChild(r1c2);
			tbl.appendChild(row1);

			var row2 = document.createElement("tr");
			var r2c1 = document.createElement("td");
			r2c1.setAttribute("valign",'top');
			var txt2 = document.createElement("i");
			txt2.innerHTML = "Question text: (Prefix variables with @)";
			r2c1.appendChild(txt2);
			row2.appendChild(r2c1);

			var r2c2 = document.createElement("td");
			var text2 = document.createElement("div");
			text2.setAttribute("class",'field');
			var textarea2 = document.createElement("textarea");
			textarea2.setAttribute("class",'mark_it_up');
			textarea2.setAttribute("cols",'80');
			textarea2.setAttribute("id",'question_content');
			textarea2.setAttribute("name",'q_text');
			textarea2.setAttribute("rows",'4');
			text2.appendChild(textarea2);
			r2c2.appendChild(text2);
			row2.appendChild(r2c2);
			tbl.appendChild(row2);
			
			var row3 = document.createElement("tr");
			var r3c1 = document.createElement("td");
			r3c1.setAttribute("valign",'top');
       		var txtd1 = document.createElement("div");
			txtd1.setAttribute("id",'variable');
			txtd1.setAttribute("style",'display:inline');
			var txta1 = document.createElement("a");			
			txta1.setAttribute("href",'#');
			txta1.setAttribute("style",'cursor:pointer');
			txta1.innerHTML = "Add a parameter name and value";
			txta1.setAttribute("onClick",'createRadioElement()');
			txtd1.appendChild(txta1);
			r3c1.appendChild(txtd1);
			

			var txtd2 = document.createElement("div");
			txtd2.setAttribute("id",'variable1');
			txtd2.setAttribute("style",'display:none');
			txtd2.innerHTML = "Select variable Type for all variables:";			
			r3c1.appendChild(txtd1);
			r3c1.appendChild(txtd2);
			row3.appendChild(r3c1);

			var r3c2 = document.createElement("td");
			var txtd3 = document.createElement("div");
			txtd3.setAttribute("id",'var1');
			txtd3.setAttribute("name",'var1');
			
			r3c2.appendChild(txtd3);
			row3.appendChild(r3c2);

			tbl.appendChild(row3);

			var row4 = document.createElement("tr");
			var r4c1 = document.createElement("td");
			r4c1.setAttribute("valign",'top');
       		var txtd4 = document.createElement("div");
			txtd4.setAttribute("id",'variable2');
			txtd4.setAttribute("style",'display:inline');
			var txta4 = document.createElement("a");			
			txta4.setAttribute("href",'#');
			txta4.setAttribute("style",'cursor:pointer');
			txta4.innerHTML = "Add an answer";
			txta4.setAttribute("onClick",'generateAnswer()');
			txtd4.appendChild(txta4);
			r4c1.appendChild(txtd4);
			
			var txtd5 = document.createElement("div");
			txtd5.setAttribute("id",'variable3');
			txtd5.setAttribute("style",'display:none');
			txtd5.innerHTML = "Answer:";			
			r4c1.appendChild(txtd4);
			row4.appendChild(r4c1);

			var r4c2 = document.createElement("td");
			var txtd6 = document.createElement("div");
			txtd6.setAttribute("id",'var2');
			txtd6.setAttribute("name",'var2');
			
			r4c2.appendChild(txtd6);
			row4.appendChild(r4c2);

			tbl.appendChild(row4);


					
			document.getElementById('var6').appendChild(tbl);
			

}

//When clicked on "add a variable" link of list type, generates textboxes to add a variable name and its values. 
function addListVariable(){

	    // creates a <table> element and a <tbody> element
        var tbl     = document.createElement("table");
		tbl.setAttribute("border",'2');
		
				// creates a table row
		    var row1 = document.createElement("tr");
			var r1c1 = document.createElement("td");
			var text1 = document.createElement("div");
			text1.innerHTML= "Variable Name";
			r1c1.appendChild(text1);
			row1.appendChild(r1c1);
			var r1c2 = document.createElement("td");
			var text2 = document.createElement("div");
			text2.innerHTML= "Values separated by commas";
			r1c2.appendChild(text2);
			row1.appendChild(r1c2);
			tbl.appendChild(row1);

			var var_name = "list"+list_var_num+"_name";
			var var_val = "list"+list_var_num+"_val";
			var div_name = "div"+list_var_num;
			
            var row2 = document.createElement("tr");
			var r2c1 = document.createElement("td");
			var cellText = document.createElement("input");
			cellText.setAttribute("type",'text');
			cellText.setAttribute("name",var_name);
			r2c1.appendChild(cellText);
            row2.appendChild(r2c1);
			var r2c2 = document.createElement("td");
			var cellText2 = document.createElement("input");
			cellText2.setAttribute("type",'text');
			cellText2.setAttribute("name",var_val);

			r2c2.appendChild(cellText2);			
            row2.appendChild(r2c2);
			tbl.appendChild(row2);
			
			list_var_num++;
		
			document.getElementById('var1').appendChild(tbl);
		

}


function addGroup(){


	var e1 = document.getElementById('grpsh');
	var f1 = document.getElementById('grphi');
	if(e1.style.display == 'inline') {
		e1.style.display = 'none';
		f1.style.display = 'inline';
	}
	else {
		e1.style.display = 'inline';
		f1.style.display = 'none';
	}

var count = 0;
var count = document.getElementById("group_ques").value;

for (var i=0; i<count; i++){

	var div= document.createElement("div");
	div.innerHTML = "Question"+(i+1);
	
		var tbl     = document.createElement("table");
		tbl.setAttribute("border",'2');

		
			
			var row1 = document.createElement("tr");
			var r1c1 = document.createElement("td");
			r1c1.setAttribute("valign",'top');
			var txt1 = document.createElement("i");
			txt1.innerHTML = "Question:";
			r1c1.appendChild(txt1);
			row1.appendChild(r1c1);

			var r1c2 = document.createElement("td");
			var text1 = document.createElement("div");
			text1.setAttribute("class",'field');
			var textarea1 = document.createElement("textarea");
			textarea1.setAttribute("class",'mark_it_up');
			textarea1.setAttribute("cols",'80');
			textarea1.setAttribute("id",'question_content');
			textarea1.setAttribute("name",'q_text'+i);
			textarea1.setAttribute("rows",'4');
			text1.appendChild(textarea1);
			r1c2.appendChild(text1);
			row1.appendChild(r1c2);
			tbl.appendChild(row1);

			var row2 = document.createElement("tr");
			var r2c1 = document.createElement("td");
			r2c1.setAttribute("valign",'top');
			var txt2 = document.createElement("i");
			txt2.innerHTML = "Solution";
			r2c1.appendChild(txt2);
			row2.appendChild(r2c1);

			var r2c2 = document.createElement("td");
			var text2 = document.createElement("div");
			text2.setAttribute("class",'field');
			var textarea2 = document.createElement("textarea");
			textarea2.setAttribute("class",'mark_it_up');
			textarea2.setAttribute("cols",'80');
			textarea2.setAttribute("id",'solution');
			textarea2.setAttribute("name",'s_text'+i);
			textarea2.setAttribute("rows",'4');
			text2.appendChild(textarea2);
			r2c2.appendChild(text2);
			row2.appendChild(r2c2);
			tbl.appendChild(row2);

			var row3 = document.createElement("tr");
			var r3c1 = document.createElement("td");
			r3c1.setAttribute("valign",'top');
			var txt3 = document.createElement("i");
			txt3.innerHTML = "Choice 1";
			r3c1.appendChild(txt3);
			row3.appendChild(r3c1);

			var r3c2 = document.createElement("td");
			var text3 = document.createElement("div");
			text3.setAttribute("class",'field');
			var textarea3 = document.createElement("textarea");
			textarea3.setAttribute("class",'mark_it_up');
			textarea3.setAttribute("cols",'80');
			textarea3.setAttribute("id",'choice1');
			textarea3.setAttribute("name",'c1_text'+i);
			textarea3.setAttribute("rows",'1');
			text3.appendChild(textarea3);
			r3c2.appendChild(text3);
			row3.appendChild(r3c2);
			tbl.appendChild(row3);

			var row4 = document.createElement("tr");
			var r4c1 = document.createElement("td");
			r4c1.setAttribute("valign",'top');
			var txt4 = document.createElement("i");
			txt4.innerHTML = "Choice 2";
			r4c1.appendChild(txt4);
			row4.appendChild(r4c1);

			var r4c2 = document.createElement("td");
			var text4 = document.createElement("div");
			text4.setAttribute("class",'field');
			var textarea4 = document.createElement("textarea");
			textarea4.setAttribute("class",'mark_it_up');
			textarea4.setAttribute("cols",'80');
			textarea4.setAttribute("id",'choice2');
			textarea4.setAttribute("name",'c2_text'+i);
			textarea4.setAttribute("rows",'1');
			text4.appendChild(textarea4);
			r4c2.appendChild(text4);
			row4.appendChild(r4c2);
			tbl.appendChild(row4);

			var row5 = document.createElement("tr");
			var r5c1 = document.createElement("td");
			r5c1.setAttribute("valign",'top');
			var txt5 = document.createElement("i");
			txt5.innerHTML = "Choice 3";
			r5c1.appendChild(txt5);
			row5.appendChild(r5c1);

			var r5c2 = document.createElement("td");
			var text5 = document.createElement("div");
			text5.setAttribute("class",'field');
			var textarea5 = document.createElement("textarea");
			textarea5.setAttribute("class",'mark_it_up');
			textarea5.setAttribute("cols",'80');
			textarea5.setAttribute("id",'choice3');
			textarea5.setAttribute("name",'c3_text'+i);
			textarea5.setAttribute("rows",'1');
			text5.appendChild(textarea5);
			r5c2.appendChild(text5);
			row5.appendChild(r5c2);
			tbl.appendChild(row5);
						
			var row6 = document.createElement("tr");
			var r6c1 = document.createElement("td");
			r6c1.setAttribute("valign",'top');
			var txt6 = document.createElement("i");
			txt6.innerHTML = "Choice 4";
			r6c1.appendChild(txt6);
			row6.appendChild(r6c1);

			var r6c2 = document.createElement("td");
			var text6 = document.createElement("div");
			text6.setAttribute("class",'field');
			var textarea6 = document.createElement("textarea");
			textarea6.setAttribute("class",'mark_it_up');
			textarea6.setAttribute("cols",'80');
			textarea6.setAttribute("id",'choice4');
			textarea6.setAttribute("name",'c4_text'+i);
			textarea6.setAttribute("rows",'1');
			text6.appendChild(textarea6);
			r6c2.appendChild(text6);
			row6.appendChild(r6c2);
			tbl.appendChild(row6);
						
			var row7 = document.createElement("tr");
			var r7c1 = document.createElement("td");
			r7c1.setAttribute("valign",'top');
			var txt7 = document.createElement("i");
			txt7.innerHTML = "Choice 5";
			r7c1.appendChild(txt7);
			row7.appendChild(r7c1);

			var r7c2 = document.createElement("td");
			var text7 = document.createElement("div");
			text7.setAttribute("class",'field');
			var textarea7 = document.createElement("textarea");
			textarea7.setAttribute("class",'mark_it_up');
			textarea7.setAttribute("cols",'80');
			textarea7.setAttribute("id",'choice5');
			textarea7.setAttribute("name",'c5_text'+i);
			textarea7.setAttribute("rows",'1');
			text7.appendChild(textarea7);
			r7c2.appendChild(text7);
			row7.appendChild(r7c2);
			tbl.appendChild(row7);
						
var row8 = document.createElement("tr");
			var r8c1 = document.createElement("td");
			r8c1.setAttribute("valign",'top');
			var txt8 = document.createElement("i");
			txt8.innerHTML = "Hint 1";
			r8c1.appendChild(txt8);
			row8.appendChild(r8c1);

			var r8c2 = document.createElement("td");
			var text8 = document.createElement("div");
			text8.setAttribute("class",'field');
			var textarea8 = document.createElement("textarea");
			textarea8.setAttribute("class",'mark_it_up');
			textarea8.setAttribute("cols",'80');
			textarea8.setAttribute("id",'hint5');
			textarea8.setAttribute("name",'h1_text'+i);
			textarea8.setAttribute("rows",'1');
			text8.appendChild(textarea8);
			r8c2.appendChild(text8);
			row8.appendChild(r8c2);
			tbl.appendChild(row8);

var row9 = document.createElement("tr");
			var r9c1 = document.createElement("td");
			r9c1.setAttribute("valign",'top');
			var txt9 = document.createElement("i");
			txt9.innerHTML = "Hint 2";
			r9c1.appendChild(txt9);
			row9.appendChild(r9c1);

			var r9c2 = document.createElement("td");
			var text9 = document.createElement("div");
			text9.setAttribute("class",'field');
			var textarea9 = document.createElement("textarea");
			textarea9.setAttribute("class",'mark_it_up');
			textarea9.setAttribute("cols",'80');
			textarea9.setAttribute("id",'hint2');
			textarea9.setAttribute("name",'h2_text'+i);
			textarea9.setAttribute("rows",'1');
			text9.appendChild(textarea9);
			r9c2.appendChild(text9);
			row9.appendChild(r9c2);
			tbl.appendChild(row9);

var row10 = document.createElement("tr");
			var r10c1 = document.createElement("td");
			r10c1.setAttribute("valign",'top');
			var txt10 = document.createElement("i");
			txt10.innerHTML = "Hint 3";
			r10c1.appendChild(txt10);
			row10.appendChild(r10c1);

			var r10c2 = document.createElement("td");
			var text10 = document.createElement("div");
			text10.setAttribute("class",'field');
			var textarea10 = document.createElement("textarea");
			textarea10.setAttribute("class",'mark_it_up');
			textarea10.setAttribute("cols",'80');
			textarea10.setAttribute("id",'hint3');
			textarea10.setAttribute("name",'h3_text'+i);
			textarea10.setAttribute("rows",'1');
			text10.appendChild(textarea10);
			r10c2.appendChild(text10);
			row10.appendChild(r10c2);
			tbl.appendChild(row10);

var row11 = document.createElement("tr");
			var r11c1 = document.createElement("td");
			r11c1.setAttribute("valign",'top');
			var txt11 = document.createElement("i");
			txt11.innerHTML = "Hint 4";
			r11c1.appendChild(txt11);
			row11.appendChild(r11c1);

			var r11c2 = document.createElement("td");
			var text11 = document.createElement("div");
			text11.setAttribute("class",'field');
			var textarea11 = document.createElement("textarea");
			textarea11.setAttribute("class",'mark_it_up');
			textarea11.setAttribute("cols",'80');
			textarea11.setAttribute("id",'hint4');
			textarea11.setAttribute("name",'h4_text'+i);
			textarea11.setAttribute("rows",'1');
			text11.appendChild(textarea11);
			r11c2.appendChild(text11);
			row11.appendChild(r11c2);
			tbl.appendChild(row11);






						document.getElementById('var6').appendChild(div);
			document.getElementById('var6').appendChild(tbl);
			var p     = document.createElement("p");
			document.getElementById('var6').appendChild(p);
}
}
//If range option is selected, creates a link to add a variable.
function generateRangeOption() {

	var e = document.getElementById('list_var');
	var f = document.getElementById('range_var');
	var f1 = document.getElementById('range_var2');
	if(e.style.display == 'inline') {
		e.style.display = 'none';
		f.style.display = 'none';
		f1.style.display = 'inline';
	}
			var new_link = document.createElement("a");
			new_link.setAttribute("href",'#');
			new_link.setAttribute("onClick", 'addRangeVariable()');
			var text4 = document.createElement("div");
			text4.setAttribute("id", 'rangeLink');
			text4.setAttribute("style",'display:inline');
			text4.innerHTML= "Add a variable";
			new_link.appendChild(text4);
			document.getElementById('var1').appendChild(new_link);
}

function generateGroupOption(){
 
	var e = document.getElementById('par_var');
	var f = document.getElementById('group_var');
	var g = document.getElementById('simple_var');
	var f1 = document.getElementById('group_var2');
	if(e.style.display == 'inline') {
		e.style.display = 'none';
		f.style.display = 'none';
		g.style.display = 'none';
		f1.style.display = 'inline';
	}

		var tbl = document.createElement("table");
		tbl.setAttribute("border",'1');

		
				// creates a table row
		   	 var row1 = document.createElement("tr");
			row1.setAttribute("id",'setup_row');
			var r1c1 = document.createElement("td");
			r1c1.setAttribute("valign",'top');
			r1c1.innerHTML= "Enter the no. of questions to be grouped : (e.g. 10) ";
			
			row1.appendChild(r1c1);

			
			var r1c2 = document.createElement("td");
			var text1 = document.createElement("div");
			text1.setAttribute("id",'grpsh');
			text1.setAttribute("class",'field');
			text1.setAttribute("style",'display:inline');
			var textarea = document.createElement("input");
			textarea.setAttribute("type",'text');
			textarea.setAttribute("maxlength",'20');
			textarea.setAttribute("id",'group_ques');
			textarea.setAttribute("name",'group_ques');
			r1c2.appendChild(textarea);
			
			var txta4 = document.createElement("a");			
			txta4.setAttribute("href",'#');
			txta4.setAttribute("style",'cursor:pointer');
			txta4.innerHTML = "     Add questions";
			txta4.setAttribute("onClick",'addGroup()');
			text1.appendChild(txta4);
			

			var text12 = document.createElement("div");
			text12.setAttribute("id",'grphi');
			text12.setAttribute("style",'display:none');
			text12.innerHTML = "questions";			
			r1c2.appendChild(text12);
			r1c2.appendChild(text1);

			row1.appendChild(r1c2);
			tbl.appendChild(row1);
			document.getElementById('var7').appendChild(tbl);


			
	
	
}

function generateSimpleOption(){
 
	var e = document.getElementById('par_var');
	var f = document.getElementById('group_var');
	var g = document.getElementById('simple_var');
	var g1 = document.getElementById('simple_var2');
	if(e.style.display == 'inline') {
		e.style.display = 'none';
		f.style.display = 'none';
		g.style.display = 'none';
		g1.style.display = 'inline';
	}


		
		var tbl = document.createElement("table");
		tbl.setAttribute("border",'2');

		
			
			var row1 = document.createElement("tr");
			var r1c1 = document.createElement("td");
			r1c1.setAttribute("valign",'top');
			var txt1 = document.createElement("i");
			txt1.innerHTML = "Question:";
			r1c1.appendChild(txt1);
			row1.appendChild(r1c1);

			var r1c2 = document.createElement("td");
			var text1 = document.createElement("div");
			text1.setAttribute("class",'field');
			var textarea1 = document.createElement("textarea");
			textarea1.setAttribute("class",'mark_it_up');
			textarea1.setAttribute("cols",'80');
			textarea1.setAttribute("id",'question_content');
			textarea1.setAttribute("name",'q_text');
			textarea1.setAttribute("rows",'4');
			text1.appendChild(textarea1);
			r1c2.appendChild(text1);
			row1.appendChild(r1c2);
			tbl.appendChild(row1);

			var row2 = document.createElement("tr");
			var r2c1 = document.createElement("td");
			r2c1.setAttribute("valign",'top');
			var txt2 = document.createElement("i");
			txt2.innerHTML = "Solution";
			r2c1.appendChild(txt2);
			row2.appendChild(r2c1);

			var r2c2 = document.createElement("td");
			var text2 = document.createElement("div");
			text2.setAttribute("class",'field');
			var textarea2 = document.createElement("textarea");
			textarea2.setAttribute("class",'mark_it_up');
			textarea2.setAttribute("cols",'80');
			textarea2.setAttribute("id",'solution');
			textarea2.setAttribute("name",'s_text');
			textarea2.setAttribute("rows",'4');
			text2.appendChild(textarea2);
			r2c2.appendChild(text2);
			row2.appendChild(r2c2);
			tbl.appendChild(row2);

			var row3 = document.createElement("tr");
			var r3c1 = document.createElement("td");
			r3c1.setAttribute("valign",'top');
			var txt3 = document.createElement("i");
			txt3.innerHTML = "Choice 1";
			r3c1.appendChild(txt3);
			row3.appendChild(r3c1);

			var r3c2 = document.createElement("td");
			var text3 = document.createElement("div");
			text3.setAttribute("class",'field');
			var textarea3 = document.createElement("textarea");
			textarea3.setAttribute("class",'mark_it_up');
			textarea3.setAttribute("cols",'80');
			textarea3.setAttribute("id",'choice1');
			textarea3.setAttribute("name",'c1_text');
			textarea3.setAttribute("rows",'1');
			text3.appendChild(textarea3);
			r3c2.appendChild(text3);
			row3.appendChild(r3c2);
			tbl.appendChild(row3);

			var row4 = document.createElement("tr");
			var r4c1 = document.createElement("td");
			r4c1.setAttribute("valign",'top');
			var txt4 = document.createElement("i");
			txt4.innerHTML = "Choice 2";
			r4c1.appendChild(txt4);
			row4.appendChild(r4c1);

			var r4c2 = document.createElement("td");
			var text4 = document.createElement("div");
			text4.setAttribute("class",'field');
			var textarea4 = document.createElement("textarea");
			textarea4.setAttribute("class",'mark_it_up');
			textarea4.setAttribute("cols",'80');
			textarea4.setAttribute("id",'choice2');
			textarea4.setAttribute("name",'c2_text');
			textarea4.setAttribute("rows",'1');
			text4.appendChild(textarea4);
			r4c2.appendChild(text4);
			row4.appendChild(r4c2);
			tbl.appendChild(row4);

			var row5 = document.createElement("tr");
			var r5c1 = document.createElement("td");
			r5c1.setAttribute("valign",'top');
			var txt5 = document.createElement("i");
			txt5.innerHTML = "Choice 3";
			r5c1.appendChild(txt5);
			row5.appendChild(r5c1);

			var r5c2 = document.createElement("td");
			var text5 = document.createElement("div");
			text5.setAttribute("class",'field');
			var textarea5 = document.createElement("textarea");
			textarea5.setAttribute("class",'mark_it_up');
			textarea5.setAttribute("cols",'80');
			textarea5.setAttribute("id",'choice3');
			textarea5.setAttribute("name",'c3_text');
			textarea5.setAttribute("rows",'1');
			text5.appendChild(textarea5);
			r5c2.appendChild(text5);
			row5.appendChild(r5c2);
			tbl.appendChild(row5);
						
			var row6 = document.createElement("tr");
			var r6c1 = document.createElement("td");
			r6c1.setAttribute("valign",'top');
			var txt6 = document.createElement("i");
			txt6.innerHTML = "Choice 4";
			r6c1.appendChild(txt6);
			row6.appendChild(r6c1);

			var r6c2 = document.createElement("td");
			var text6 = document.createElement("div");
			text6.setAttribute("class",'field');
			var textarea6 = document.createElement("textarea");
			textarea6.setAttribute("class",'mark_it_up');
			textarea6.setAttribute("cols",'80');
			textarea6.setAttribute("id",'choice4');
			textarea6.setAttribute("name",'c4_text');
			textarea6.setAttribute("rows",'1');
			text6.appendChild(textarea6);
			r6c2.appendChild(text6);
			row6.appendChild(r6c2);
			tbl.appendChild(row6);
						
			var row7 = document.createElement("tr");
			var r7c1 = document.createElement("td");
			r7c1.setAttribute("valign",'top');
			var txt7 = document.createElement("i");
			txt7.innerHTML = "Choice 5";
			r7c1.appendChild(txt7);
			row7.appendChild(r7c1);

			var r7c2 = document.createElement("td");
			var text7 = document.createElement("div");
			text7.setAttribute("class",'field');
			var textarea7 = document.createElement("textarea");
			textarea7.setAttribute("class",'mark_it_up');
			textarea7.setAttribute("cols",'80');
			textarea7.setAttribute("id",'choice5');
			textarea7.setAttribute("name",'c5_text');
			textarea7.setAttribute("rows",'1');
			text7.appendChild(textarea7);
			r7c2.appendChild(text7);
			row7.appendChild(r7c2);
			tbl.appendChild(row7);
						
var row8 = document.createElement("tr");
			var r8c1 = document.createElement("td");
			r8c1.setAttribute("valign",'top');
			var txt8 = document.createElement("i");
			txt8.innerHTML = "Hint 1";
			r8c1.appendChild(txt8);
			row8.appendChild(r8c1);

			var r8c2 = document.createElement("td");
			var text8 = document.createElement("div");
			text8.setAttribute("class",'field');
			var textarea8 = document.createElement("textarea");
			textarea8.setAttribute("class",'mark_it_up');
			textarea8.setAttribute("cols",'80');
			textarea8.setAttribute("id",'hint5');
			textarea8.setAttribute("name",'h1_text');
			textarea8.setAttribute("rows",'1');
			text8.appendChild(textarea8);
			r8c2.appendChild(text8);
			row8.appendChild(r8c2);
			tbl.appendChild(row8);

var row9 = document.createElement("tr");
			var r9c1 = document.createElement("td");
			r9c1.setAttribute("valign",'top');
			var txt9 = document.createElement("i");
			txt9.innerHTML = "Hint 2";
			r9c1.appendChild(txt9);
			row9.appendChild(r9c1);

			var r9c2 = document.createElement("td");
			var text9 = document.createElement("div");
			text9.setAttribute("class",'field');
			var textarea9 = document.createElement("textarea");
			textarea9.setAttribute("class",'mark_it_up');
			textarea9.setAttribute("cols",'80');
			textarea9.setAttribute("id",'hint2');
			textarea9.setAttribute("name",'h2_text');
			textarea9.setAttribute("rows",'1');
			text9.appendChild(textarea9);
			r9c2.appendChild(text9);
			row9.appendChild(r9c2);
			tbl.appendChild(row9);

var row10 = document.createElement("tr");
			var r10c1 = document.createElement("td");
			r10c1.setAttribute("valign",'top');
			var txt10 = document.createElement("i");
			txt10.innerHTML = "Hint 3";
			r10c1.appendChild(txt10);
			row10.appendChild(r10c1);

			var r10c2 = document.createElement("td");
			var text10 = document.createElement("div");
			text10.setAttribute("class",'field');
			var textarea10 = document.createElement("textarea");
			textarea10.setAttribute("class",'mark_it_up');
			textarea10.setAttribute("cols",'80');
			textarea10.setAttribute("id",'hint3');
			textarea10.setAttribute("name",'h3_text');
			textarea10.setAttribute("rows",'1');
			text10.appendChild(textarea10);
			r10c2.appendChild(text10);
			row10.appendChild(r10c2);
			tbl.appendChild(row10);

var row11 = document.createElement("tr");
			var r11c1 = document.createElement("td");
			r11c1.setAttribute("valign",'top');
			var txt11 = document.createElement("i");
			txt11.innerHTML = "Hint 4";
			r11c1.appendChild(txt11);
			row11.appendChild(r11c1);

			var r11c2 = document.createElement("td");
			var text11 = document.createElement("div");
			text11.setAttribute("class",'field');
			var textarea11 = document.createElement("textarea");
			textarea11.setAttribute("class",'mark_it_up');
			textarea11.setAttribute("cols",'80');
			textarea11.setAttribute("id",'hint4');
			textarea11.setAttribute("name",'h4_text');
			textarea11.setAttribute("rows",'1');
			text11.appendChild(textarea11);
			r11c2.appendChild(text11);
			row11.appendChild(r11c2);
			tbl.appendChild(row11);


			document.getElementById('var7').appendChild(tbl);
			
}
//For range type of variable, checks if a min value entered is an integer else shows an error message.
function minValidation(obj){
	/*if(isNaN(obj.value)){
		alert("Error: Enter a number!");
		//var a = obj.value;
		//alert("Hi"+a);
	}*/
	if((parseFloat(obj.value) == parseInt(obj.value)) && !isNaN(obj.value)){
      return true;
	} else { 
	  alert("Error: Enter an integer!");
      return false;
	} 
}

//For range type of variable, checks if a max value entered is an integer else shows an error message.
function maxValidation(obj){
	if(minValidation(obj)){
		var a_max = obj.name;
		var a_min = a_max.substring(0,a_max.indexof("_"))+"min";
		alert("hi"+a_min);
	}
}

//When clicked on "add a variable" link of rage type, generates textboxes to add a variable name and its min and max values. 
function addRangeVariable(){

	    // creates a <table> element and a <tbody> element
        var tbl     = document.createElement("table");
		tbl.setAttribute("border",'2');
		// creates a table row
		    var row1 = document.createElement("tr");
			var r1c1 = document.createElement("td");
			var text1 = document.createElement("div");
			text1.innerHTML= "Variable Name";
			r1c1.appendChild(text1);
			row1.appendChild(r1c1);
			var r1c2 = document.createElement("td");
			var text2 = document.createElement("div");
			text2.innerHTML= "Min Value";
			r1c2.appendChild(text2);
			row1.appendChild(r1c2);
			var r1c3 = document.createElement("td");
			var text3 = document.createElement("div");
			text3.innerHTML= "Max Value";
			r1c3.appendChild(text3);
			row1.appendChild(r1c3);			
			tbl.appendChild(row1);

			var var_name = "range"+range_var_num+"_name";
			var var_min = "range"+range_var_num+"_min";
			var var_max = "range"+range_var_num+"_max";
			
            var row2 = document.createElement("tr");
			var r2c1 = document.createElement("td");			
			var cellText = document.createElement("input");
			cellText.setAttribute("type",'text');
			cellText.setAttribute("name",var_name);
			r2c1.appendChild(cellText);
            row2.appendChild(r2c1);
			var r2c2 = document.createElement("td");
			var cellText2 = document.createElement("input");
			cellText2.setAttribute("type",'text');
			cellText2.setAttribute("name",var_min);
			cellText2.setAttribute("onchange", "minValidation(this)");
			r2c2.appendChild(cellText2);
            row2.appendChild(r2c2);
			var r2c3 = document.createElement("td");
			var cellText3 = document.createElement("input");
			cellText3.setAttribute("type",'text');
			cellText3.setAttribute("name",var_max);
			cellText3.setAttribute("onchange", "maxValidation(this)");
			r2c3.appendChild(cellText3);
            row2.appendChild(r2c3);			
			tbl.appendChild(row2);
			
			range_var_num++;
						
			document.getElementById('var1').appendChild(tbl);

}

//Based on the variable type selected, generated textboxes to add an answer: for range type a textbox to write answer function and for list type a table to enter answer for each combination.
function generateAnswer(){

	var e1 = document.getElementById('variable2');
	var f1 = document.getElementById('variable3');
	if(e1.style.display == 'inline') {
		e1.style.display = 'none';
		f1.style.display = 'inline';
	}
	else {
		e1.style.display = 'inline';
		f1.style.display = 'none';
	}

	var e = document.getElementById('range_var2');
	var f = document.getElementById('list_var2');
	if(e.style.display == 'inline') {
		var e2 = document.getElementById('rangeLink');
		e2.style.display = 'none';
		var cellText = document.createElement("input");
		cellText.setAttribute("type",'text');
		cellText.setAttribute("name",'range_ans');
		document.getElementById('var2').appendChild(cellText);
	}	
	
	else if(f.style.display == 'inline') {
		var e2 = document.getElementById('listLink');
		e2.style.display = 'none';
		
		var names = new Array();
		var values = new Array();
		var num_rows = 1;
		for(var i = 1; i<list_var_num ; i++){
			var var_name = "list"+i+"_name";
			var curr_name = document.getElementsByName(var_name);
			names[i-1] = curr_name.item(0).value;
			var var_val = "list"+i+"_val";
			var curr_var = document.getElementsByName(var_val);	
			var new_val = curr_var.item(0).value;
			values[i-1] = new Array();
			values[i-1] = new_val.split(",");
			//if(i < (list_var_num-1)){
				num_rows = num_rows*(values[i-1].length);
			//}			
		}	
		var num_cols = values[list_var_num-2].length;
		var row_col = "(" + num_rows + ", " + num_cols + ")";

		
		for(var i=0; i<num_rows; i++){
			A[i] = new Array();
		}
		var combination = new Array();
		var comb = new Array();
		for(var i=0; i< list_var_num-1; i++){
			combination[i]=0;
			comb[i]=0;
		}
		
		combination[list_var_num-2] = 1;
		comb[0]=1;
		for(var i=list_var_num-3; i>=0 ; i--){
			combination[i]=values[i+1].length*combination[i+1];
		}		
		for(var i=1; i<list_var_num-1; i++){
			comb[i] = comb[i-1]*values[i-1].length;
		}
			
		for(var i=1; i<list_var_num; i++){
			for(var l=1; l<=comb[i-1] ; l++){
				for(var j=1; j<=values[i-1].length ;j++){
					for(var k=1; k<=combination[i-1]; k++){
						var temp3 = (l-1)*values[i-1].length*combination[i-1];
						var temp = (j-1)*combination[i-1];
						var temp2 = temp3+temp+(k-1);
						A[temp2][i-1] = values[i-1][j-1];
					}
				}
			}
		}
		
		// creates a <table> element and a <tbody> element
        var tbl     = document.createElement("table");
		tbl.setAttribute("border",'2');
		// creates a table row
		var row1 = document.createElement("tr");
		for(var i=1; i<list_var_num; i++){		    
			var r1c1 = document.createElement("td");
			var text1 = document.createElement("div");
			text1.innerHTML= names[i-1];
			r1c1.appendChild(text1);
			row1.appendChild(r1c1);
		}
		var r1c1 = document.createElement("td");
		var text1 = document.createElement("div");
		text1.innerHTML= "Answer";
		r1c1.appendChild(text1);
		row1.appendChild(r1c1);
		tbl.appendChild(row1);
		
		for(var i=0; i<A.length ; i++){
			var row1 = document.createElement("tr");
			for(var j=0; j<A[0].length; j++){
				var r1c1 = document.createElement("td");
				var text1 = document.createElement("div");
				text1.innerHTML= A[i][j];
				r1c1.appendChild(text1);
				row1.appendChild(r1c1);
			}
			var var_name = "ans"+i;
			var r2c1 = document.createElement("td");			
			var cellText = document.createElement("input");
			cellText.setAttribute("type",'text');
			cellText.setAttribute("name",var_name);
			r2c1.appendChild(cellText);
            row1.appendChild(r2c1);
			tbl.appendChild(row1);
		}
		
		document.getElementById('var2').appendChild(tbl);
	
		/*var var_val = "list1_val";
		var curr_var = document.getElementsByName('list1_val');
		var cellText = document.createElement("input");
		cellText.setAttribute("type",'text');
		cellText.setAttribute("name",'range_ans');
		cellText.setAttribute("value",A[22][2]);
		document.getElementById('var2').appendChild(cellText);*/
	}

}

//Creates an answer table string written to the intermediate file and used later while displaying question for editting.
function getAnsTable(){
		var ans_tab = "";
		for(var i=0; i<A.length; i++){
			ans_tab += A[i][0];
			for(var j=1; j<A[i].length; j++){
				ans_tab += "##"+A[i][j];
			}
			if(i<(A.length-1)){
				ans_tab += "&&";
			}
		}
		document.getElementsByName('answerTable').item(0).setAttribute("value",ans_tab);
}

function generateType(place, variable, variable1) {

	var e = document.getElementById(variable);
	var f = document.getElementById(variable1);
	if(e.style.display == 'inline') {
		e.style.display = 'none';
		f.style.display = 'inline';
	}
	else {
		e.style.display = 'inline';
		f.style.display = 'none';
	}

    var radioHtml = '<div id="par_var" style="display:inline"> <input type="radio" name="radio1" value="par" onClick="generateParOption()"';
    radioHtml += '/>';
	radioHtml += "Parameterised question";
	radioHtml += '</div>';
	var radioHtml2 = '<div id="par_var2" style="display:none">';
	radioHtml2 += "Parameterised question";
	radioHtml2 += '</div>';

	
var radioHtml4 = '<div id="simple_var" style="display:inline"> <input type="radio" name="radio1" value="simple" onClick="generateSimpleOption()"';
    radioHtml4 += '/> ';
	radioHtml4 += "Simple question ";
	radioHtml4 += '</div>';
	var radioHtml5 = '<div id="simple_var2" style="display:none">';
	radioHtml5 += "Simple question";
	radioHtml5 += '</div>';

var radioHtml1 = '<div id="group_var" style="display:inline"> <input type="radio" name="radio1" value="grp" onClick="generateGroupOption()"';
    radioHtml1 += '/> ';
	radioHtml1 += "Group question ";
	radioHtml1 += '</div>';
	var radioHtml3 = '<div id="group_var2" style="display:none">';
	radioHtml3 += "Group question";
	radioHtml3 += '</div>';

	
    var radioFragment = document.createElement('div');
    radioFragment.innerHTML = radioHtml;
	var radioFragment1 = document.createElement('div');
    radioFragment1.innerHTML = radioHtml1;
	var radioFragment2 = document.createElement('div');
    radioFragment2.innerHTML = radioHtml2;
	var radioFragment3 = document.createElement('div');
    radioFragment3.innerHTML = radioHtml3;
	var radioFragment4 = document.createElement('div');
    radioFragment4.innerHTML = radioHtml4;
	var radioFragment5 = document.createElement('div');
    radioFragment5.innerHTML = radioHtml5;

    	document.getElementById(place).appendChild(radioFragment);
	document.getElementById(place).appendChild(radioFragment1);
	document.getElementById(place).appendChild(radioFragment2);
	document.getElementById(place).appendChild(radioFragment3);
	document.getElementById(place).appendChild(radioFragment4);
	document.getElementById(place).appendChild(radioFragment5);


}
</script>

  <script type="text/javascript">


</script>


  
     <script type="text/x-mathjax-config">
       MathJax.Hub.Config({
         tex2jax: {
           inlineMath: [ ['$','$'], ["\\(","\\)"] ],
           processEscapes: true
         }
       });
     </script>
     
         
</head>
<body>
   
   
      
<form accept-charset="UTF-8" action="formsave.php" autocomplete="off" class="question_edit" id="question_edit" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /> 
    
 <input id="question_type" name="question[type]" type="hidden" value="SimpleQuestion" />

 <h2>You are writing a simple question
 </h2>


 <table class="target question_form" border="1" width="100%" >
	 <tr id="setup_row" >
       <td valign="top"><i>Save Question As (FileName): </i></td>
       <td>
          <div class="field">
             
                <input type= "text" name="file_name"  maxlength="20"/>
				
     </div>
       </td>
           </tr>
 <tr>	
	       <td valign="top">
			<div id="variable2" style="display:inline">
				<a href="#" style="cursor:pointer" onClick="generateType('var5', 'variable2', 'variable3')" >Select the type of question </a>
			</div>
			<div id="variable3" style="display:none">
				Question Type:
			</div>
		</td>
	   
       <td>
			<div id="var5" name="var5">
			</div>
	   </td>
    </tr>
 
	      
	</table>
	
	 <div>
		<input type="hidden" name="answerTable">
	</div>


	
<div id="var7" name="var7">
</div>
	 <p>   
<div id="var6" name="var6">
	</div> 
   
<span id="newText">
  
  <div class="actions">
    <center>

      &nbsp;&nbsp;&nbsp;&nbsp;

	  
      <input class="ui-state-default ui-corner-all submitButton" data-disable-with="Saving..." id="save_button" name="commit" type="submit" value="Save" onClick="getAnsTable()"/>

      &nbsp;&nbsp;&nbsp;&nbsp;
	  
      
    </center>
  </div>

  </span>
  
</form>



  <div id="footer" style="float:center">
     	  <a href="index.html">Features</a> | 
         <a href="index.html">About QBank</a> | 
         <a href="index.html">Contact Us</a>
      </div>





 
</html>